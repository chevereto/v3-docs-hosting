(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{521:function(t,e,a){"use strict";a.r(e);var s=a(68),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"system-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-requirements"}},[t._v("#")]),t._v(" System Requirements")]),t._v(" "),a("p",[t._v("Minimum machine requirements:")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" When running with minimum requirements it is recommended to "),a("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04",target:"_blank",rel:"noopener noreferrer"}},[t._v("add swap space"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("ul",[a("li",[t._v("1GB RAM")]),t._v(" "),a("li",[t._v("1 CPU")])]),t._v(" "),a("h2",{attrs:{id:"cron"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cron"}},[t._v("#")]),t._v(" Cron")]),t._v(" "),a("div",{staticClass:"custom-block highlight"},[a("p",{staticClass:"custom-block-title"},[t._v("🦄 Chevereto V4 users")]),a("p",[t._v("Check the updated documentation at "),a("a",{attrs:{href:"https://v4-docs.chevereto.com/application/stack/cron.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("⏲️ Cron"),a("OutboundLink")],1),t._v(".")])]),a("p",[t._v("A "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Cron",target:"_blank",rel:"noopener noreferrer"}},[t._v("cron"),a("OutboundLink")],1),t._v(" is required to process the application background jobs. A cron is system in which a command is executed in a regular basis, this way Chevereto can perform operations in the background.")]),t._v(" "),a("p",[t._v("This cron setup reference applies only for Debian-based servers with root access. We "),a("strong",[t._v("strongly recommend")]),t._v(" checking your server documentation on how to setup and run cron.")]),t._v(" "),a("h3",{attrs:{id:"command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command"}},[t._v("#")]),t._v(" Command")]),t._v(" "),a("p",[t._v("The command should be run by the web-server user which is "),a("code",[t._v("www-data")]),t._v(" (may vary). To run the command in Chevereto it requires to call PHP binary at the Chevereto CLI.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("PHP binary")]),t._v(" "),a("p",[t._v("Use "),a("code",[t._v("which php")]),t._v(" to locate the PHP binary as its location may vary in different systems and configurations.")])]),t._v(" "),a("p",[t._v("Command below uses "),a("code",[t._v("sudo -u www-data")]),t._v(" to run the command as "),a("code",[t._v("www-data")]),t._v(" user permissions. PHP binary is at "),a("code",[t._v("php")]),t._v(" and the Chevereto CLI is at "),a("code",[t._v("/var/www/html/cli.php")]),t._v(". The command argument passed to Chevereto is "),a("code",[t._v("-C cron")]),t._v(".")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"V3.20+"}},[a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -u www-data php /var/www/html/cli.php -C "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cron")]),t._v("\n")])])])]),t._v(" "),a("code-block",{attrs:{title:"Older"}},[a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -u www-data "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IS_CRON")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" php /var/www/html/cron.php\n")])])])])],1),t._v(" "),a("h4",{attrs:{id:"docker-command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-command"}},[t._v("#")]),t._v(" Docker command")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"V3.20+"}},[a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --user www-data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    chevereto-container php /var/www/html/cli.php -C "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cron")]),t._v("\n")])])])]),t._v(" "),a("code-block",{attrs:{title:"Older"}},[a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --user www-data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IS_CRON")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    chevereto-container php /var/www/html/cron.php\n")])])])])],1),t._v(" "),a("h3",{attrs:{id:"cron-d-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cron-d-file"}},[t._v("#")]),t._v(" Cron.d file")]),t._v(" "),a("p",[t._v("With a "),a("a",{attrs:{href:"https://manpages.debian.org/stretch/cron/cron.8",target:"_blank",rel:"noopener noreferrer"}},[t._v("cron.d file"),a("OutboundLink")],1),t._v(" the cron can be easily setup. For example:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/etc/cron.d/chevereto "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("EOM\n* * * * * www-data php /var/www/html/cli.php -C cron\nEOM")]),t._v("\n")])])]),a("h3",{attrs:{id:"cron-schedule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cron-schedule"}},[t._v("#")]),t._v(" Cron schedule")]),t._v(" "),a("p",[t._v("In the instruction above "),a("a",{attrs:{href:"https://crontab.guru/#*_*_*_*_*",target:"_blank",rel:"noopener noreferrer"}},[t._v("* * * * *"),a("OutboundLink")],1),t._v(" is the cron schedule to run every minute.")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("Suit your context")]),t._v(" "),a("p",[t._v("The above default cron works when running our official provisioning. If you don't use our server provisioning you will be required to alter the default instructions for user, PHP binary and Chevereto CLI location. Refer to your system documentation.")])])],1)}),[],!1,null,null,null);e.default=r.exports}}]);